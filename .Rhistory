wm_name2id("apedinella")
worrms::wm_name2id("apedinella")
taxize:get_wormsid("apedinella")
taxize::get_wormsid("apedinella")
get_ids_details
taxize::get_id_details
taxize::get_wormsid("Apedinella")
worrms::wm_id2name("Apedinella")
worrms::wm_name2id("Apedinella")
worrms::wm_name2id("Dictyocha")
worrms::wm_name2id("Proterythropsis")
taxize::get_wormsid("Proterythropsis")
worrms::wm_name2id("strombidium ocultum")
worrms::wm_name2id("strombidium oculatum")
worrms::wm_name2id("corymbellus")
worrms::wm_name2id("calciopappus")
#load df
#setwd("C:/Users/[username]/[file_location]")
#df<-read.csv("file.csv")
#create df
df<-data.frame(matrix(ncol=3,nrow=6)) #columns: AphiaID, scientificName, counts; 5 items
colnames(df)<-c("AphiaID","scientificName","counts")
df$AphiaID<-c("101","536891","536891",883,913,"")
df$scientificName<-c("Gastropoda","Ventsia","Anatoma","Polychaeta","Spionidae","Acari")
df$counts<-c(74,10,43,43,9,1)
df$AphiaID<-as.numeric(df$AphiaID)
df<-add_column(df,name_from_AphiaID="",.after="scientificName")
library(tibble)
df<-add_column(df,name_from_AphiaID="",.after="scientificName")
library("worrms")
for (i in 1:length(df$AphiaID)) {
if (isTRUE(df$AphiaID[i]>0)==TRUE) {
df$name_from_AphiaID[i]<-wm_id2name(df$AphiaID[i])
} else
df$name_from_AphiaID[i]<-"no manual AphiaID"
}
View(df)
#load df
#setwd("C:/Users/[username]/[file_location]")
#df<-read.csv("file.csv")
#create df
df<-data.frame(matrix(ncol=3,nrow=6)) #columns: AphiaID, scientificName, counts; 5 items
colnames(df)<-c("AphiaID","scientificName","counts")
df$AphiaID<-c("101","536891","536891",883,913,"")
df$scientificName<-c("Gastropoda","Ventsia","Anatoma","Polychaeta","Spionidae","Acari")
df$counts<-c(74,10,43,43,9,1)
#make sure AphiaID is numeric
df$AphiaID<-as.numeric(df$AphiaID)
#using taxize
#add in column for AphiaID-generated scientific name
library(tibble)
df<-add_column(df,name_from_AphiaID_taxize="",.after="scientificName")
#install.package("taxize")
library("taxize")
for (i in 1:length(df$AphiaID)) {
if (isTRUE(df$AphiaID[i]>0)==TRUE) {
df_id_tree<-id2name(df$AphiaID[i],db="worms")
df_id<-df_id_tree[[1]]
df$name_from_AphiaID[i]<-df_id$name[1]
} else
df$name_from_AphiaID[i]<-"no manual AphiaID"
}
#using worrms
library(tibble)
df<-add_column(df,name_from_AphiaID_worrms="",.after="scientificName")
#install.package("worrms")
library("worrms")
for (i in 1:length(df$AphiaID)) {
if (isTRUE(df$AphiaID[i]>0)==TRUE) {
df$name_from_AphiaID[i]<-wm_id2name(df$AphiaID[i])
} else
df$name_from_AphiaID[i]<-"no manual AphiaID"
}
View(df)
#load df
#setwd("C:/Users/[username]/[file_location]")
#df<-read.csv("file.csv")
#create df
df<-data.frame(matrix(ncol=3,nrow=6)) #columns: AphiaID, scientificName, counts; 5 items
colnames(df)<-c("AphiaID","scientificName","counts")
df$AphiaID<-c("101","536891","536891",883,913,"")
df$scientificName<-c("Gastropoda","Ventsia","Anatoma","Polychaeta","Spionidae","Acari")
df$counts<-c(74,10,43,43,9,1)
#make sure AphiaID is numeric
df$AphiaID<-as.numeric(df$AphiaID)
#using taxize
#add in column for AphiaID-generated scientific name
library(tibble)
df<-add_column(df,name_from_AphiaID_taxize="",.after="scientificName")
#install.package("taxize")
library("taxize")
for (i in 1:length(df$AphiaID)) {
if (isTRUE(df$AphiaID[i]>0)==TRUE) {
df_id_tree<-id2name(df$AphiaID[i],db="worms")
df_id<-df_id_tree[[1]]
df$name_from_AphiaID_taxize[i]<-df_id$name[1]
} else
df$name_from_AphiaID_taxize[i]<-"no manual AphiaID"
}
#using worrms
library(tibble)
df<-add_column(df,name_from_AphiaID_worrms="",.after="scientificName")
#install.package("worrms")
library("worrms")
for (i in 1:length(df$AphiaID)) {
if (isTRUE(df$AphiaID[i]>0)==TRUE) {
df$name_from_AphiaID_worrms[i]<-wm_id2name(df$AphiaID[i])
} else
df$name_from_AphiaID_worrms[i]<-"no manual AphiaID"
}
#check if names match (scientificName and AphiaID_taxize name)
##add column to hold check
df<-add_column(df,scientificName_AphiaIDName_Match="",.after="name_from_AphiaID_taxize") #or name_from_AphiaID_worrms
##run check itself (tolower() is present to account for variations in capitalization)
for (i in 1:length(df$AphiaID)) {
if (isTRUE(tolower(df$scientificName[i])==tolower(df$name_from_AphiaID_taxize[i]))==TRUE) { #or name_from_AphiaID_worrms
df$scientificName_AphiaIDName_Match[i]<-TRUE
} else
df$scientificName_AphiaIDName_Match[i]<-FALSE
}
#check if taxize and worrms names match, if both are run
df<-add_column(df,taxize_worms_match="",.after="name_from_AphiaID_taxize")
for (i in 1:length(df$AphiaID)) {
if (isTRUE(tolower(df$name_from_AphiaID_taxize)) == tolower(df$name_from_AphiaID_worrms) == TRUE) {
#check if names match (scientificName and AphiaID_taxize name)
##add column to hold check
df<-add_column(df,scientificName_AphiaIDName_Match="",.after="name_from_AphiaID_taxize") #or name_from_AphiaID_worrms
for (i in 1:length(df$AphiaID)) {
if (isTRUE(tolower(df$scientificName[i])==tolower(df$name_from_AphiaID_taxize[i]))==TRUE) { #or name_from_AphiaID_worrms
df$scientificName_AphiaIDName_Match[i]<-TRUE
} else
df$scientificName_AphiaIDName_Match[i]<-FALSE
}
df<-add_column(df,taxize_worms_match="",.after="name_from_AphiaID_taxize")
for (i in 1:length(df$AphiaID)) {
if (isTRUE(tolower(df$name_from_AphiaID_taxize) == tolower(df$name_from_AphiaID_worrms)) == TRUE) {
}
}
for (i in 1:length(df$AphiaID)) {
if (isTRUE(tolower(df$name_from_AphiaID_taxize[i]) == tolower(df$name_from_AphiaID_worrms[i])) == TRUE) {
df$taxize_worms_match[i]<-TRUE
} else
df$taxize_worms_match[i]<-FALSE
}
taxize::id2name("248096")
taxize::id2name("248096", db="worms")
wm_records_name("Apedinella")
test<-wm_records_name("Apedinella")
View(test)
wm_record(101)
wm_records_name("Dichyocha")
wm_records_name("Dictyocha")
wm_record("157258")
wm_record(157258)
dictyocha<-wm_records_name("Dictyocha")
View(dictyocha)
wm_record(157258) -> test
View(test)
